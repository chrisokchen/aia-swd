# C4: 舊專案維護流程- 全案理解/語意檢索，修改/測試，除錯/重構，文件更新

## 1. 全案理解工具

- **目的**：快速理解舊專案的架構、功能與邏輯。
- **工具**：使用 LLM 進行語意檢索，回答關於專案的問題。

### Ex4-1: GitHub Copilot on GitHub Web
e.g. https://github.com/joinvai/ai-sdlc

```=text
探索整個存儲庫，以作為軟體架構師、軟體開發人員和產品經理從多個角度理解代碼庫，我希望您將您的發現編譯成存儲庫根目錄下的 projectDesc.md 文件，用於描述技術概念。您應該在此 markdown 檔中包含 mermaid 圖表。
```

### Ex4-2: 對 Local Project 的理解

```=text
使用 LLM 進行語意檢索，回答關於本地專案的問題，例如：
1. 專案的主要功能是什麼？
2. 各個模組之間的依賴關係如何？
3. 有哪些已知的問題和挑戰？
4. 如何快速上手這個專案？
```
[產生的 projectDesc.md 文件](Ex4/projectDesc.md)

* [PlantUML in Action](https://github.com/yasenstar/PlantUML_in_Action)

## 2. 異動影響分析

- **目的**：分析專案的異動需求，了解哪些部分需要修改或重構。
- **工具**：使用 LLM 生成異動分析報告，指出需要修改的模組、函式或邏輯。

### Ex4-3: 異動影響分析報告

```=text
要加上一個功能:
顯示回答資訊後，如圖下方要讓使用者可以投票表示這個回答對他有沒有幫助，如果點"否"的話，還是請他提供意見。
請生成異動影響分析報告，指出需要修改的模組、函式或邏輯，存成 changeAnalysis.md 檔
```
[產生的 changeAnalysis.md 文件](Ex4/changeAnalysis.md)

## 3. 正規的專案維護做法

0. **專案 base**：收集整理專案的[基本資訊](C4_0.md)，如專案目標、主要功能、使用技術棧等。
1. **版本控制**：使用 Git 進行版本控制，確保每次修改都有紀錄，並能夠隨時回溯。
2. **測試驅動開發/維護 (TDD)**：在修改程式碼前，先撰寫測試案例，確保修改不會破壞原有功能。
    - 既有的測試案例應該能夠覆蓋大部分功能，並且在修改後能夠通過。
    - 覆蓋率不足的部分，應該補上測試案例；覆蓋率應該達到 80% 以上，並包含主要功能/邊界情況。
    - 異動影響分析報告應該指出哪些模組需要新增或修改測試案例。
3. **代碼審查**：每次提交修改前，必須經過同儕的代碼審查，確保代碼品質。
4. **持續集成 (CI)**：使用 CI 工具自動化測試流程，確保每次提交都能通過測試。
5. **文檔更新**：每次修改後，必須更新相關文檔，確保文檔與程式碼同步。