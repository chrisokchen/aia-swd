## 相關檔案

- `src/components/KanbanBoard.tsx` - Kanban 主看板元件，顯示所有工作項目與狀態欄。
- `src/components/TaskCard.tsx` - 單一工作卡片元件，顯示任務細節與操作。
- `src/pages/LoginPage.tsx` - 登入頁面，處理使用者驗證。
- `src/api/tasks.ts` - 處理工作項目 CRUD 與指派的 API 處理器。
- `src/api/auth.ts` - 處理登入/登出與權限驗證的 API 處理器。
- `src/db/schema.sql` - 資料庫結構設計（工作、用戶、歷史紀錄等）。
- `src/components/__tests__/KanbanBoard.test.tsx` - Kanban 主看板元件的單元測試。
- `src/components/__tests__/TaskCard.test.tsx` - 工作卡片元件的單元測試。
- `src/api/__tests__/tasks.test.ts` - 工作項目 API 的單元測試。
- `src/api/__tests__/auth.test.ts` - 驗證 API 的單元測試。

### 備註

- 單元測試通常應與其對應的程式檔案放在同一目錄（例如：`MyComponent.tsx` 與 `MyComponent.test.tsx`）。
- 使用 `npx jest [optional/path/to/test/file]` 執行測試。不帶路徑時會執行 Jest 設定找到的所有測試。

## 任務

- [ ] 1.0 設計與建立資料庫結構
  - [ ] 1.1 設計工作項目（tasks）、用戶（users）、歷史紀錄（history）等資料表 schema
  - [ ] 1.2 撰寫 schema.sql 並建立資料庫
  - [ ] 1.3 設計欄位以支援狀態流轉、指派、留言與操作紀錄
  - [ ] 1.4 測試資料庫 schema 可正確建立與查詢

- [ ] 2.0 實作使用者驗證與權限控管
  - [ ] 2.1 設計用戶註冊、登入、登出 API
  - [ ] 2.2 實作 JWT 或 Session 驗證機制
  - [ ] 2.3 實作管理者與一般成員權限區分
  - [ ] 2.4 前端整合登入頁面與權限導向
  - [ ] 2.5 撰寫驗證 API 單元測試

- [ ] 3.0 開發 Kanban 看板與任務卡片元件
  - [ ] 3.1 設計 Kanban 看板 UI（含三欄：待辦、進行中、完成）
  - [ ] 3.2 實作 KanbanBoard.tsx，顯示所有工作項目
  - [ ] 3.3 實作 TaskCard.tsx，顯示任務細節、負責人、狀態、留言
  - [ ] 3.4 支援拖曳卡片以變更狀態
  - [ ] 3.5 權限控制：管理者功能按鈕僅管理者可見
  - [ ] 3.6 撰寫 KanbanBoard 與 TaskCard 單元測試

- [ ] 4.0 實作任務管理功能（新增、編輯、拆分、指派、認領、狀態流轉）
  - [ ] 4.1 實作新增、編輯、刪除工作項目的 API 與前端介面
  - [ ] 4.2 實作拆分任務功能（將一任務拆為多個子任務）
  - [ ] 4.3 實作指派任務給特定成員或釋放為可認領
  - [ ] 4.4 實作成員認領未指派任務
  - [ ] 4.5 實作狀態流轉（拖曳或按鈕切換）
  - [ ] 4.6 撰寫任務管理 API 單元測試

- [ ] 5.0 實作進度回報、留言與歷史紀錄
  - [ ] 5.1 實作任務留言與進度回報欄位
  - [ ] 5.2 前端顯示留言與回報 UI
  - [ ] 5.3 實作歷史紀錄自動記錄每次操作
  - [ ] 5.4 提供歷史紀錄查詢 API
  - [ ] 5.5 撰寫留言與歷史紀錄相關單元測試

- [ ] 6.0 撰寫單元測試與錯誤處理
  - [ ] 6.1 撰寫前端元件單元測試
  - [ ] 6.2 撰寫後端 API 單元測試
  - [ ] 6.3 實作前端錯誤提示與操作回饋
  - [ ] 6.4 實作後端錯誤處理與回傳標準錯誤訊息

---

我已根據 PRD 產生高階任務。準備產生子任務了嗎？請回覆 "Go" 以繼續。
